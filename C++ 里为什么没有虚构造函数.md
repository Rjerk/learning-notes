# C++ 里为什么没有虚构造函数?

```
class Animal {
    ...
};

class Cat : public Animal {
public:
    virtual Cat() {
        ...
    }
};

Cat kitty; // compiler error.
```

当我们创建 Cat 对象时会发生什么。因为有虚函数，虚函数的使用依赖于 Cat 对象中的虚指针 vptr，该指针指向一个虚函数表，我们在这个表中查找匹配的虚函数来使用。

而虚函数表的创建又是在构造函数之内，编译器在其中安插一些代码，为每个 Cat 对象的 vptr 设定初值，放置适当的虚函数表地址。

可以看到，我们要用到虚构造函数来构造对象，但虚构造函数的使用需要对象被构造好以找到这个虚函数来使用，这就出现了矛盾：先有鸡还是先有蛋的？
